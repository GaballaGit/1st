---
import Box from "./Box.astro";

const boxColors = ["#11d4b1", "#035a4f", "#333333"];

function getRandom(min: number, max: number) {
  return Math.random() * (max - min) + min;
}

function generateRandomStyles() {
  const randomColor = boxColors[Math.floor(Math.random() * boxColors.length)];
  const randomOpacity = getRandom(0.2, 1);
  const randomLeft = `${getRandom(10, 90)}%`;
  const randomTop = `${getRandom(10, 80)}%`;
  const randomDuration = `${getRandom(5, 15)}s`;
  const randomDelay = `${getRandom(0, 2)}s`;

  return {
    backgroundColor: randomColor,
    opacity: randomOpacity,
    left: randomLeft,
    top: randomTop,
    animationDuration: randomDuration,
    animationDelay: randomDelay,
  };
}

const numBoxes = 50;
const boxes = Array.from({ length: numBoxes }, () => generateRandomStyles());
---

<div class="container">
  {boxes.map((style) => <Box style={style} float={true} />)}
</div>
